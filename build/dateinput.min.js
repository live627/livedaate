!function($){function t(t,e){var n,i,r,d,s,o=a({yearRange:[-5,10],ranges:[],values:[],value:void 0,min:void 0,max:void 0},e),l=new Date,u=l.getFullYear(),c="",f=t.attr("data-value")||o.value||t.val()||l,v=t.attr("min")||o.min,h=t.attr("max")||o.max,g=function(a){t.attr("readonly")||t.attr("disabled")||s||($(".cal").hide(),s=!0,n.animate({opacity:"show",height:"show"},150),R(),p())},p=function(t){n.empty(),y(o.values[0]),y(o.values[1]),D()},D=function(t){var a=$("<div>").addClass("btn-group-vertical");for(range in o.ranges)a.append($("<a>").addClass("btn btn-primary").text(range).addClass(function(t){return c==range?"active":""}).click(function(t){var a=$(this);a.parent().find("a").removeClass("active"),a.addClass("active"),c=a.text(),o.values=o.ranges[c],setTimeout(function(){p()},50)}));a.appendTo(n)},y=function(t,a,e,c){var g=C(a)>=-1?new Date(C(t),C(a),C(void 0==e||isNaN(e)?1:e)):t||f;v>g?g=v:g>h&&(g=h),t=g.getFullYear(),a=g.getMonth(),e=g.getDate(),-1==a?(a=11,t--):12==a&&(a=0,t++),s||k(g),r=a,i=t,d=e;var p,D=$("<table><tbody><tr/><tr/></tbody></table>"),w=D.eq(0).children(),x=w.eq(0).children().eq(0),R=x.next(),F=$("<select/>").change(function(){y(S.val(),$(this).val())}),S=$("<select/>").change(function(){y($(this).val(),F.val())}),T=new Date(t,a,1-(o.firstDay||0)),Y=T.getDay(),q=m(t,a),K=m(t,a-1);x.append($("<td/>").attr("colspan",7).append(F.add(S))),n.append(D);for(var M=0;7>M;M++)R.append($("<th/>").addClass("right").text(daysShort[(M+(o.firstDay||0))%7]));if(!c){F.empty(),$.each(months,function(a,e){v&&v<new Date(t,a+1,1)&&h&&h>new Date(t,a,0)&&F.append($("<option/>").text(e).attr("value",a))}),S.empty();for(var N=u+o.yearRange[0];N<u+o.yearRange[1];N++)v&&v<new Date(N+1,0,1)&&h&&h>new Date(N,0,0)&&S.append($("<option/>").text(N).val(N));F.val(a),S.val(t)}for(var j,I,O=Y?0:-7;(Y?42:35)>O;O++)j=$("<td/>").addClass("right"),O%7===0&&(p=$("<tr/>").appendTo(w)),Y>O?(j.addClass("disabled"),I=K-Y+O+1,thisDate=new Date(t,a-1,I)):O>=Y+q?(j.addClass("disabled"),I=O-q-Y+1,thisDate=new Date(t,a+1,I)):(I=O-Y+1,thisDate=new Date(t,a,I),b(f,thisDate)&&j.addClass("chosen"),b(l,thisDate)&&j.addClass("today"),b(g,thisDate)&&j.addClass("hove"),thisDate<o.values[0]||thisDate>o.values[1]||j.addClass("hove2")),(v&&thisDate<v||h&&thisDate>h)&&j.addClass("disabled"),j.appendTo(p).text(I).filter(":not(.disabled)").data("date",thisDate).click(function(t){k($(this).data("date"),t)})},w=function(){s&&($(document).off(".d"),n.hide(),s=!1)},m=function(t,a){return new Date(t,a+1,0).getDate()},C=function(t){return parseInt(t,10)},b=function(t,a){return t.toDateString()==a.toDateString()},x=function(t){if(void 0!==t){if(t.constructor==Date)return t;if("string"==typeof t){var a=t.split("-");if(3==a.length)return new Date(C(a[0]),C(a[1])-1,C(a[2]));if(!/^-?\d+$/.test(t))return;t=C(t)}var e=new Date;return e.setDate(e.getDate()+t),e}},k=function(a){f=a,i=a.getFullYear(),r=a.getMonth(),d=a.getDate(),t.val(a.getFullYear()+"-"+F(a.getMonth()+1)+"-"+F(a.getDate())),t.data("date",a),w()},R=function(a){$(document).on("click.d",function(a){var e=a.target;$(e).parents(".cal").length||e==t[0]||w(a)})},F=function(t){var a=String(t);return 1===a.length&&(a="0"+a),a};f=x(f),v=x(v||new Date(u+o.yearRange[0],1,1)),h=x(h||new Date(u+o.yearRange[1]+1,1,-1)),n=$("<div>").addClass("cal "),t.after(n).addClass("dateinput"),f&&k(f),o.editable||t.on("focus.d click.d",g).keydown(function(t){return t.shiftKey||t.ctrlKey||t.altKey||9==t.keyCode?!0:t.preventDefault()})}function a(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}return t}$.fn.dateinput=function(a){return this.each(function(){var e=$(this),n=e.data("dateinput");n||e.data("dateinput",new t(e,a))})}}(jQuery);
//# sourceMappingURL=build/dateinput.min.js.map
