!function(t){function a(a,e){var n,i,d,r,s,l=t.extend({yearRange:[-5,10],ranges:[],values:[]},e),o=new Date,u=o.getFullYear(),c="",f=a.attr("data-value")||l.value||a.val()||o,h=a.attr("min")||l.min,v=a.attr("max")||l.max,p=function(e){a.attr("readonly")||a.attr("disabled")||s||(t(".cal").hide(),s=!0,n.animate({opacity:"show",height:"show"},150),R(),D())},D=function(t){n.empty(),y(l.values[0]),y(l.values[1]),g()},g=function(a){var e=t("<div>").addClass("btn-group-vertical");for(range in l.ranges)e.append(t("<a>").addClass("btn btn-primary").text(range).addClass(function(t){return c==range?"active":""}).click(function(a){var e=t(this);e.parent().find("a").removeClass("active"),e.addClass("active"),c=e.text(),l.values=l.ranges[c],setTimeout(function(){D()},50)}));e.appendTo(n)},y=function(a,e,c,p){var D=m(e)>=-1?new Date(m(a),m(e),m(void 0==c||isNaN(c)?1:c)):a||f;h>D?D=h:D>v&&(D=v),a=D.getFullYear(),e=D.getMonth(),c=D.getDate(),-1==e?(e=11,a--):12==e&&(e=0,a++),s||k(D),d=e,i=a,r=c;var g,w=t("<table><tbody><tr/><tr/></tbody></table>"),x=w.eq(0).children(),R=x.eq(0).children().eq(0),F=R.next(),S=t("<select/>").change(function(){y(T.val(),t(this).val())}),T=t("<select/>").change(function(){y(t(this).val(),S.val())}),Y=new Date(a,e,1-(l.firstDay||0)),q=Y.getDay(),K=C(a,e),M=C(a,e-1);R.append(t("<td/>").attr("colspan",7).append(S.add(T))),n.append(w);for(var N=0;7>N;N++)F.append(t("<th/>").addClass("right").text(daysShort[(N+(l.firstDay||0))%7]));if(!p){S.empty(),t.each(months,function(e,n){h&&h<new Date(a,e+1,1)&&v&&v>new Date(a,e,0)&&S.append(t("<option/>").text(n).attr("value",e))}),T.empty();for(var j=u+l.yearRange[0];j<u+l.yearRange[1];j++)h&&h<new Date(j+1,0,1)&&v&&v>new Date(j,0,0)&&T.append(t("<option/>").text(j).val(j));S.val(e),T.val(a)}for(var I,Q,$=q?0:-7;(q?42:35)>$;$++)I=t("<td/>").addClass("right"),$%7===0&&(g=t("<tr/>").appendTo(x)),q>$?(I.addClass("disabled"),Q=M-q+$+1,thisDate=new Date(a,e-1,Q)):$>=q+K?(I.addClass("disabled"),Q=$-K-q+1,thisDate=new Date(a,e+1,Q)):(Q=$-q+1,thisDate=new Date(a,e,Q),b(f,thisDate)&&I.addClass("chosen"),b(o,thisDate)&&I.addClass("today"),b(D,thisDate)&&I.addClass("hove"),thisDate<l.values[0]||thisDate>l.values[1]||I.addClass("hove2")),(h&&thisDate<h||v&&thisDate>v)&&I.addClass("disabled"),I.appendTo(g).text(Q).filter(":not(.disabled)").data("date",thisDate).click(function(a){k(t(this).data("date"),a)})},w=function(){s&&(t(document).off(".d"),n.hide(),s=!1)},C=function(t,a){return new Date(t,a+1,0).getDate()},m=function(t){return parseInt(t,10)},b=function(t,a){return t.toDateString()==a.toDateString()},x=function(t){if(void 0!==t){if(t.constructor==Date)return t;if("string"==typeof t){var a=t.split("-");if(3==a.length)return new Date(m(a[0]),m(a[1])-1,m(a[2]));if(!/^-?\d+$/.test(t))return;t=m(t)}var e=new Date;return e.setDate(e.getDate()+t),e}},k=function(t){f=t,i=t.getFullYear(),d=t.getMonth(),r=t.getDate(),a.val(t.getFullYear()+"-"+F(t.getMonth()+1)+"-"+F(t.getDate())),a.data("date",t),w()},R=function(e){t(document).on("click.d",function(e){var n=e.target;t(n).parents(".cal").length||n==a[0]||w(e)})},F=function(t){var a=String(t);return 1===a.length&&(a="0"+a),a};f=x(f),h=x(h||new Date(u+l.yearRange[0],1,1)),v=x(v||new Date(u+l.yearRange[1]+1,1,-1)),n=t("<div>").addClass("cal "),a.after(n).addClass("dateinput"),f&&k(f),l.editable||a.on("focus.d click.d",p).keydown(function(t){return t.shiftKey||t.ctrlKey||t.altKey||9==t.keyCode?!0:t.preventDefault()})}t.fn.dateinput=function(e){return this.each(function(){var n=t(this),i=n.data("dateinput");i||n.data("dateinput",new a(n,e))})}}(jQuery);
//# sourceMappingURL=build/dateinput.min.js.map
