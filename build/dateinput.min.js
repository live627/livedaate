!function($){function t(t,e){var n,r,d,i,o,s=a({yearRange:[-5,10]},e),c=new Date,l=c.getFullYear(),u=t.attr("data-value")||s.value||t.val()||c,h=t.attr("min")||s.min,f=t.attr("max")||s.max,D=function(a){t.attr("readonly")||t.attr("disabled")||o||($(".cal").hide(),o=!0,v(u),n.animate(is_opera?{opacity:"show"}:{opacity:"show",height:"show"},150),m())},v=function(t,a,e,D){var g=y(a)>=-1?new Date(y(t),y(a),y(void 0==e||isNaN(e)?1:e)):t||u;h>g?g=h:g>f&&(g=f),t=g.getFullYear(),a=g.getMonth(),e=g.getDate(),-1==a?(a=11,t--):12==a&&(a=0,t++),o||k(g),d=a,r=t,i=e;var b,m=$("<table><tbody><tr/><tr/></tbody></table>"),C=m.eq(0).children(),x=C.eq(0).children().eq(0),M=x.next(),R=$("<select/>").change(function(){v(F.val(),$(this).val())}),F=$("<select/>").change(function(){v($(this).val(),R.val())}),S=new Date(t,a,1-(s.firstDay||0)),Y=S.getDay(),q=p(t,a),K=p(t,a-1);x.append($("<td/>").attr("colspan",7).append(R.add(F))),n.html(m);for(var N=0;7>N;N++)M.append($("<th/>").addClass("right").text(daysShort[(N+(s.firstDay||0))%7]));if(!D){R.empty(),$.each(months,function(a,e){h&&h<new Date(t,a+1,1)&&f&&f>new Date(t,a,0)&&R.append($("<option/>").text(e).attr("value",a))}),F.empty();for(var T=l+s.yearRange[0];T<l+s.yearRange[1];T++)h&&h<new Date(T+1,0,1)&&f&&f>new Date(T,0,0)&&F.append($("<option/>").text(T).val(T));R.val(a),F.val(t)}for(var j,I,O=Y?0:-7;(Y?42:35)>O;O++)j=$("<td/>").addClass("right"),O%7===0&&(b=$("<tr/>").appendTo(C)),Y>O?(j.addClass("disabled"),I=K-Y+O+1,thisDate=new Date(t,a-1,I)):O>=Y+q?(j.addClass("disabled"),I=O-q-Y+1,thisDate=new Date(t,a+1,I)):(I=O-Y+1,thisDate=new Date(t,a,I),w(u,thisDate)&&j.addClass("chosen"),w(c,thisDate)&&j.addClass("today"),w(g,thisDate)&&j.addClass("hove")),(h&&thisDate<h||f&&thisDate>f)&&j.addClass("disabled"),j.appendTo(b).text(I).filter(":not(.disabled)").data("date",thisDate).click(function(t){k($(this).data("date"),t)})},g=function(){o&&($(document).off(".d"),n.hide(),o=!1)},p=function(t,a){return new Date(t,a+1,0).getDate()},y=function(t){return parseInt(t,10)},w=function(t,a){return t.toDateString()==a.toDateString()},b=function(t){if(void 0!==t){if(t.constructor==Date)return t;if("string"==typeof t){var a=t.split("-");if(3==a.length)return new Date(y(a[0]),y(a[1])-1,y(a[2]));if(!/^-?\d+$/.test(t))return;t=y(t)}var e=new Date;return e.setDate(e.getDate()+t),e}},k=function(a){u=a,r=a.getFullYear(),d=a.getMonth(),i=a.getDate(),t.val(a.getFullYear()+"-"+C(a.getMonth()+1)+"-"+C(a.getDate())),t.data("date",a),g()},m=function(a){$(document).on("keydown.d",function(t){if(o)switch(t.keyCode){case 9:case 27:g();break;case 13:var a=$("td.hove:not(chosen)",n);return a[0]&&k(a.data("date")),!1;case 33:addMonth(-1);break;case 34:addMonth(1);break;case 82:k(c);break;case 37:addDay(-1);break;case 38:addDay(-7);break;case 39:addDay(1);break;case 40:addDay(7)}}),$(document).on("click.d",function(a){var e=a.target;$(e).parents(".cal").length||e==t[0]||g(a)})},C=function(t){var a=String(t);return 1===a.length&&(a="0"+a),a};u=b(u),h=b(h||new Date(l+s.yearRange[0],1,1)),f=b(f||new Date(l+s.yearRange[1]+1,1,-1)),n=$("<div>").addClass("cal"),t.after(n).addClass("dateinput"),u&&k(u),s.editable||t.on("focus.d click.d",D).keydown(function(a){var e=a.keyCode;return!o&&$([75,76,38,39,74,72,40,37]).index(e)>=0?(D(),a.preventDefault()):((8==e||46==e)&&t.val(""),a.shiftKey||a.ctrlKey||a.altKey||9==e?!0:a.preventDefault())})}function a(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}return t}$.fn.dateinput=function(a){return this.each(function(){var e=$(this),n=e.data("dateinput");n||e.data("dateinput",new t(e,a))})}}(jQuery);
//# sourceMappingURL=build/dateinput.min.js.map
